{% extends "layout.html.twig" %}

{% block title %}Admin{% endblock %}

{% block body %}

<div class="row justify-content-center">

	<div class="col-12 my-3">

		<h1 class="text-center">Admin</h1>

		<h2 class="text-center">Ajouter un salon</h2>

	</div>

	<div class="col-lg-5 col-md-6 col-sm-12 mb-5">
		
		{{ form_start(form) }}

			{{ form_row(form.name) }}

			{{ form_row(form.location) }}

			{{ form_row(form.phoneNumber) }}

			{{ form_row(form.facebookLink) }}

			<ul class="tags" id="email-fields-list"
		        data-prototype="{{ form_widget(form.prices.vars.prototype)|e }}"
		        data-widget-tags="{{ '<li></li>'|e }}">
			    {% for priceField in form.prices %}
			        <li>
			            {{ form_errors(priceField) }}
			            {{ form_widget(priceField) }}
			        </li>
			    {% endfor %}
			</ul>
			
			{% do form.prices.setRendered %}

			{{ form_row(form.submit) }}

	</div>

	<div class="col-lg-5 col-md-6 col-sm-12 mb-5">

		{% set weeks = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'] %}

		{% for scheduleField in form.schedules %}
			<div class="row mb-4">
				<div class="col-md-12">
					<h3>{{ weeks[loop.index0] }}</h3>
				</div>

				<div class="col-md-6">
					{{ form_label(scheduleField.start, 'Heure d\'ouverture') }}
					{{ form_errors(scheduleField.start) }}
					{{ form_widget(scheduleField.start) }}
				</div>

				<div class="col-md-6">
					{{ form_label(scheduleField.end, 'Heure de fermeture') }}
					{{ form_errors(scheduleField.end) }}
					{{ form_widget(scheduleField.end) }}
				</div>

				<div class="col-md-12">
					{{ form_label(scheduleField.dayOff, 'Fermé toute la journée') }}
					{{ form_errors(scheduleField.dayOff) }}
					{{ form_widget(scheduleField.dayOff) }}
				</div>
			</div>

		{% endfor %}
	
		{{ form_end(form) }}

	</div>

</div>

{% endblock %}

{% block scripts %}
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBebREjBpspgub7FLoGdQoE0eYNfWJOEMs&libraries=places"></script>
	<script src="{{ asset('build/location.js') }}"></script>
	<script src="{{ asset('build/prices.js') }}"></script>
{% endblock %}